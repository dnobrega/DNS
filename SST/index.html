<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Daniel Nobrega-Siverio">
        <link rel="canonical" href="https://dnobrega.github.io/DNS/SST/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>SST - DNS</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="..">DNS</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link"></a>
                            </li>
                            <li class="navitem">
                                <a href="../macos/" class="nav-link">Mac OS</a>
                            </li>
                            <li class="navitem">
                                <a href="../terminal/" class="nav-link">Terminal</a>
                            </li>
                            <li class="navitem">
                                <a href="../bifrost/" class="nav-link">Bifrost</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Programming languages <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../idl/" class="dropdown-item">IDL</a>
</li>
                                    
<li>
    <a href="../python/" class="dropdown-item">Python</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Observations <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active">SST</a>
</li>
                                    
<li>
    <a href="../IRIS/" class="dropdown-item">IRIS</a>
</li>
                                    
<li>
    <a href="../SOLO/" class="dropdown-item">SOLO</a>
</li>
                                    
<li>
    <a href="../SDO/" class="dropdown-item">SDO</a>
</li>
                                    
<li>
    <a href="../ALMA/" class="dropdown-item">ALMA</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../python/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../IRIS/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/dnobrega/DNS" class="nav-link">dnobrega/DNS</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#sst" class="nav-link">SST</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#sst-main-links" class="nav-link">SST main links</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#sst-literature" class="nav-link">SST literature</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#connecting-to-sst-computers" class="nav-link">Connecting to SST computers</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#quicklook-movies-and-images" class="nav-link">Quicklook movies and images</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#scripts" class="nav-link">Scripts</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="sst">SST<a class="headerlink" href="#sst" title="Permanent link">&para;</a></h1>
<p>The Swedish 1-m Solar Telescope (SST) is a refracting solar telescope at Roque de los Muchachos Observatory, La Palma in the Canary Islands.
The SST is capable of providing high-quality time series of spectrally resolved photospheric and chromospheric diagnostics that under excellent seeing conditions reach the diffraction limit of 0.1" over the full arcmin^2 FOV. Furthermore, the versatile CRISP instrument can provide spectro-polarimetric data that enable measurement of the magnetic field topology. In addition, the tunable filter system CHROMIS, installed in 2016, can simultaneously provide narrowband filtergrams at several wavelengths in the core of the Ca II K line (Extracted from <a href="https://ui.adsabs.harvard.edu/abs/2020A%26A...641A.146R/abstract">Rouppe et al. (2020)</a>).</p>
<h2 id="sst-main-links">SST main links<a class="headerlink" href="#sst-main-links" title="Permanent link">&para;</a></h2>
<ul>
<li>Overview of the observation conditions at the ORM in La Palma: <a href="https://shahin.website/sst/">Shahin's website</a></li>
<li>SST wiki of RoCS: <a href="https://wiki.uio.no/mn/astro/lapalma/">Wiki</a></li>
<li>SST Observations Schedule: <a href="https://dubshen.astro.su.se/wiki/index.php/Observations_schedule_2021">SST Schedule</a></li>
<li>SST Data acquisitions: <a href="https://dubshen.astro.su.se/wiki/index.php/Data_acquisitions">Data acquisitions</a></li>
</ul>
<h2 id="sst-literature">SST literature<a class="headerlink" href="#sst-literature" title="Permanent link">&para;</a></h2>
<ul>
<li>The SST telescope design and its main optical elements: <a href="https://ui.adsabs.harvard.edu/abs/2003SPIE.4853..341S/abstract">Scharmer et al. 2003a</a>.</li>
<li>The SST adaptive optics system: <a href="https://ui.adsabs.harvard.edu/abs/2003SPIE.4853..370S/abstract">Scharmer et al. 2003a</a>.</li>
<li>The CHROMospheric Imaging Spectrometer (CHROMIS): <a href="https://dubshen.astro.su.se/wiki/index.php/CHROMIS">CHROMIS webpage</a> </li>
<li>The CRISP imaging spectropolarimeter: <a href="https://ui.adsabs.harvard.edu/abs/2008ApJ...689L..69S/abstract">Scharmer et al. 2008</a></li>
<li>Upgrades of optical components and instrumentation, as well as a thorough evaluation of optical performance: <a href="https://ui.adsabs.harvard.edu/abs/2019A%26A...626A..55S/abstract">Scharmer et al. 2019</a>.</li>
</ul>
<h2 id="connecting-to-sst-computers">Connecting to SST computers<a class="headerlink" href="#connecting-to-sst-computers" title="Permanent link">&para;</a></h2>
<p>It is possible to login into the SST related computers to transfer files and to make the quicklook movies. To that end, type:<br />
<code>ssh obs@royac6.royac.iac.es</code></p>
<details>
 <summary>Password</summary>
 <p>
 3skedar
 </p>
</details>

<p>Then you can type, e.g., <code>ssh -X obs@transport1</code> to login into the transport1 machine.</p>
<h2 id="quicklook-movies-and-images">Quicklook movies and images<a class="headerlink" href="#quicklook-movies-and-images" title="Permanent link">&para;</a></h2>
<p>ITA has now a very basic web server with the purpose of providing simple access to files ment for temporary viewing - like quicklook movies. 
We can put the SST quicklook movies at <code>/mn/stornext/d18/lapalma/quicklook/</code> which will then appear under http://tsih3.uio.no/lapalma/
- <em>For example, the 14-Jun quicklook movies from the LMSAL campaign are now under</em>  <br />
 http://tsih3.uio.no/lapalma/2020/2020-06-14/
<em>which are linked from the Oslo SST wiki:</em> 
 <a href="https://wiki.uio.no/mn/astro/lapalma/index.php/Quicklook_June_2020#Sunday_14-Jun-2020">https://wiki.uio.no/mn/astro/lapalma/index.php/Quicklook_June_2020#Sunday_14-Jun-2020</a></p>
<h2 id="scripts">Scripts<a class="headerlink" href="#scripts" title="Permanent link">&para;</a></h2>
<p>A list of useful scripts that may help you (to see the code block, just click in the name):</p>
<details>
 <summary>Transfer all the CRISP and CHROMIS quicklook files from SST transport1 to Oslo: </summary>
 <p>

 <div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1">#------------------------------------------------------------------------------------------</span>
<span class="c1"># DATE</span>
<span class="nv">default_date</span><span class="o">=</span><span class="sb">`</span>date +<span class="s2">&quot;%Y.%m.%d&quot;</span><span class="sb">`</span>
<span class="nb">read</span> -p <span class="s2">&quot;Enter date with format YYYY.MM.DD (</span><span class="nv">$default_date</span><span class="s2">): &quot;</span> userdate
: <span class="s2">&quot;</span><span class="si">${</span><span class="nv">userdate</span><span class="p">:=</span><span class="nv">$default_date</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">year</span><span class="o">=</span><span class="si">${</span><span class="nv">userdate</span><span class="p">:</span><span class="nv">0</span><span class="p">:</span><span class="nv">4</span><span class="si">}</span>
<span class="nv">month</span><span class="o">=</span><span class="si">${</span><span class="nv">userdate</span><span class="p">:</span><span class="nv">5</span><span class="p">:</span><span class="nv">2</span><span class="si">}</span>
<span class="nv">day</span><span class="o">=</span><span class="si">${</span><span class="nv">userdate</span><span class="p">:</span><span class="nv">8</span><span class="p">:</span><span class="nv">2</span><span class="si">}</span>
<span class="c1">#------------------------------------------------------------------------------------------</span>

<span class="c1">#------------------------------------------------------------------------------------------</span>
<span class="c1"># LOCATION OF THE QUICKLOOK MOVIES</span>
<span class="nv">crisp_folder</span><span class="o">=</span><span class="s2">&quot;/scratch/obs/</span><span class="nv">$userdate</span><span class="s2">/CRISP/quicklook/&quot;</span>
<span class="nv">chromis_folder</span><span class="o">=</span><span class="s2">&quot;/scratch/obs/</span><span class="nv">$userdate</span><span class="s2">/CHROMIS/quicklook/&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Preparing to transfer quicklook files from the following folders: &quot;</span>
<span class="nb">echo</span> <span class="nv">$crisp_folder</span>
<span class="nb">echo</span> <span class="nv">$chromis_folder</span>
<span class="c1">#------------------------------------------------------------------------------------------</span>

<span class="c1">#------------------------------------------------------------------------------------------</span>
<span class="c1"># OSLO DESTINATION</span>
<span class="nv">default_folder</span><span class="o">=</span><span class="s2">&quot;/mn/stornext/d18/lapalma/quicklook/</span><span class="nv">$year</span><span class="s2">/</span><span class="nv">$year</span><span class="s2">-</span><span class="nv">$month</span><span class="s2">-</span><span class="nv">$day</span><span class="s2">/&quot;</span>
<span class="nb">read</span> -p <span class="s2">&quot;Enter destination at ITA (</span><span class="nv">$default_folder</span><span class="s2">): &quot;</span> ita_folder
: <span class="s2">&quot;</span><span class="si">${</span><span class="nv">ita_folder</span><span class="p">:=</span><span class="nv">$default_folder</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="c1">#------------------------------------------------------------------------------------------</span>

<span class="c1">#------------------------------------------------------------------------------------------</span>
<span class="c1"># OSLO USER</span>
<span class="nv">default_user</span><span class="o">=</span>desiveri
<span class="nb">read</span> -p <span class="s2">&quot;Enter your UiO username (</span><span class="nv">$default_user</span><span class="s2">): &quot;</span> username
: <span class="s2">&quot;</span><span class="si">${</span><span class="nv">username</span><span class="p">:=</span><span class="nv">$default_user</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="c1">#------------------------------------------------------------------------------------------</span>

<span class="c1">#------------------------------------------------------------------------------------------</span>
<span class="c1"># RSYNC TO OSLO</span>
rsync -avzP <span class="se">\</span>
      --prune-empty-dirs <span class="se">\</span>
      <span class="nv">$crisp_folder</span> <span class="nv">$chromis_folder</span> <span class="se">\</span>
      --rsync-path<span class="o">=</span><span class="s2">&quot;mkdir -p </span><span class="nv">$ita_folder</span><span class="s2"> &amp;&amp; rsync&quot;</span> <span class="se">\</span>
      <span class="nv">$username</span>@tsih.uio.no:<span class="nv">$ita_folder</span>
<span class="c1">#------------------------------------------------------------------------------------------</span>
</code></pre></div>
 </p>
</details>
<p><br/></p>
<details>
 <summary>Combine CHROMIS quicklook movies and images:</summary>
 <p>

 <div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nv">quickfile1</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">quickfile2</span><span class="o">=</span><span class="nv">$2</span>
<span class="nv">image_format</span><span class="o">=</span>.jpg
<span class="nv">movie_format</span><span class="o">=</span>.mov

<span class="nv">temp</span><span class="o">=</span>*<span class="nv">$quickfile1</span>*<span class="nv">$image_format</span>
<span class="nv">header</span><span class="o">=</span><span class="k">$(</span> <span class="nb">echo</span> <span class="nv">$temp</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/\(quick_...................\).*/\1/&#39;</span><span class="k">)</span>
<span class="nv">image</span><span class="o">=</span><span class="nv">$header</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">jj</span><span class="p">//:</span><span class="si">}</span><span class="s2">&quot;</span><span class="nv">$image_format</span> 
<span class="nv">movie</span><span class="o">=</span><span class="nv">$header</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">jj</span><span class="p">//:</span><span class="si">}</span><span class="s2">&quot;</span><span class="nv">$movie_format</span>
<span class="nv">ysize</span><span class="o">=</span><span class="k">$(</span>ffprobe -v error -select_streams v:0 -show_entries <span class="nv">stream</span><span class="o">=</span>height -of <span class="nv">csv</span><span class="o">=</span><span class="nv">s</span><span class="o">=</span>x:p<span class="o">=</span><span class="m">0</span> *<span class="nv">$quickfile1</span>*<span class="nv">$image_format</span><span class="k">)</span>

<span class="nb">echo</span> <span class="s2">&quot;---------------------------------------------------------------------&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Creating </span><span class="nv">$image</span><span class="s2">&quot;</span>
ffmpeg -i *<span class="nv">$quickfile1</span>*<span class="nv">$image_format</span> -i <span class="se">\</span>
          *<span class="nv">$quickfile2</span>*<span class="nv">$image_format</span>    <span class="se">\</span>
      -q:v <span class="m">1</span> -filter_complex <span class="nv">vstack</span><span class="o">=</span><span class="nv">inputs</span><span class="o">=</span><span class="m">2</span> <span class="nv">$image</span> <span class="se">\</span>
   -hide_banner -loglevel error
<span class="nb">echo</span> <span class="s2">&quot;---------------------------------------------------------------------&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Creating </span><span class="nv">$movie</span><span class="s2">&quot;</span>
ffmpeg -i *<span class="nv">$quickfile1</span>*<span class="nv">$movie_format</span> -i <span class="se">\</span>
          *<span class="nv">$quickfile2</span>*<span class="nv">$movie_format</span>    <span class="se">\</span>
          -filter_complex <span class="nv">vstack</span><span class="o">=</span><span class="nv">inputs</span><span class="o">=</span><span class="m">2</span> <span class="se">\</span>
          <span class="nv">$movie</span> <span class="se">\</span>
   -hide_banner -loglevel error
</code></pre></div>
 </p>
</details>
<p><br/></p>
<details>
 <summary>Combine CRISP quicklook movies and images:</summary>
 <p>

 <div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nv">quickfile1</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">quickfile2</span><span class="o">=</span><span class="nv">$2</span>
<span class="nv">quickfile3</span><span class="o">=</span><span class="nv">$3</span>
<span class="nv">image_format</span><span class="o">=</span>.jpg
<span class="nv">movie_format</span><span class="o">=</span>.mov

<span class="nv">temp</span><span class="o">=</span>*<span class="nv">$quickfile1</span>*<span class="nv">$image_format</span>
<span class="nv">header</span><span class="o">=</span><span class="k">$(</span> <span class="nb">echo</span> <span class="nv">$temp</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/\(quick_...................\).*/\1/&#39;</span><span class="k">)</span>
<span class="nv">image</span><span class="o">=</span><span class="nv">$header</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">jj</span><span class="p">//:</span><span class="si">}</span><span class="s2">&quot;</span><span class="nv">$image_format</span> 
<span class="nv">movie</span><span class="o">=</span><span class="nv">$header</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">jj</span><span class="p">//:</span><span class="si">}</span><span class="s2">&quot;</span><span class="nv">$movie_format</span>
<span class="nb">echo</span> <span class="s2">&quot;---------------------------------------------------------------------&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Creating </span><span class="nv">$image</span><span class="s2">&quot;</span>
ffmpeg -i *<span class="nv">$quickfile1</span>*<span class="nv">$image_format</span> -i <span class="se">\</span>
          *<span class="nv">$quickfile2</span>*<span class="nv">$image_format</span> -i <span class="se">\</span>
          *<span class="nv">$quickfile3</span>*<span class="nv">$image_format</span>      <span class="se">\</span>
          -q:v <span class="m">1</span> -filter_complex <span class="nv">hstack</span><span class="o">=</span><span class="nv">inputs</span><span class="o">=</span><span class="m">3</span> <span class="nv">$image</span> <span class="se">\</span>
   -hide_banner -loglevel error
<span class="nb">echo</span> <span class="s2">&quot;---------------------------------------------------------------------&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Creating </span><span class="nv">$movie</span><span class="s2">&quot;</span>
ffmpeg -i *<span class="nv">$quickfile1</span>*<span class="nv">$movie_format</span> -i <span class="se">\</span>
          *<span class="nv">$quickfile2</span>*<span class="nv">$movie_format</span> -i <span class="se">\</span>
          *<span class="nv">$quickfile3</span>*<span class="nv">$movie_format</span>      <span class="se">\</span>
          -filter_complex <span class="nv">hstack</span><span class="o">=</span><span class="nv">inputs</span><span class="o">=</span><span class="m">3</span> <span class="nv">$movie</span> <span class="se">\</span>
   -hide_banner -loglevel error
</code></pre></div>
 </p>
</details>
<p><br/>  </p>
<details>
 <summary>Transform from pdf to png:</summary>
 <p>

 To use this script is necessary to install ``` brew install poppler ``` which contains the main command to use (pdftoppm). Note that the instalation takes a while. After that, you can use the following script which will transform all the pdf file in the folder and subfolderes to png files.

 <div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s2">&quot;-------------------------------------------------&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;Transforming from pdf to png the following files:&quot;</span>
<span class="nv">filelist</span><span class="o">=</span><span class="sb">`</span>find . -type f -name <span class="s1">&#39;*.pdf&#39;</span><span class="sb">`</span>
<span class="k">for</span> ii <span class="k">in</span> <span class="si">${</span><span class="nv">filelist</span><span class="si">}</span><span class="p">;</span> <span class="k">do</span>
    <span class="nb">echo</span> <span class="nv">$ii</span>
    pdftoppm <span class="nv">$ii</span> <span class="nv">$ii</span> -png
<span class="k">done</span>
</code></pre></div>
 </p>
</details>
<p><br/>  </p>
<details>
 <summary>See list of dates with avaialable quicklook files at ITA:</summary>
 <p>

 <div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash                                                                                                                    </span>
<span class="k">for</span> year <span class="k">in</span> <span class="k">$(</span>curl -s http://tsih3.uio.no/lapalma/ <span class="p">|</span>
                  grep <span class="s1">&#39;\[DIR\]&#39;</span> <span class="p">|</span>
                  sed <span class="s1">&#39;s/.*href=&quot;//&#39;</span> <span class="p">|</span>
                  sed <span class="s1">&#39;s/&quot;.*//&#39;</span>
             <span class="k">)</span><span class="p">;</span> <span class="k">do</span>
    <span class="nb">echo</span> <span class="s2">&quot;---------------------------&quot;</span>
    <span class="nb">echo</span> <span class="nv">$year</span>
    <span class="nb">echo</span> <span class="s2">&quot;---------------------------&quot;</span>
    <span class="k">for</span> date <span class="k">in</span> <span class="k">$(</span>curl -s http://tsih3.uio.no/lapalma/<span class="nv">$year</span> <span class="p">|</span>
                      grep <span class="s1">&#39;\[DIR\]&#39;</span> <span class="p">|</span>
                      sed <span class="s1">&#39;s/.*href=&quot;//&#39;</span> <span class="p">|</span>
                      sed <span class="s1">&#39;s/&quot;.*//&#39;</span><span class="k">)</span><span class="p">;</span> <span class="k">do</span>
        <span class="nb">echo</span> <span class="nv">$date</span>
    <span class="k">done</span>
<span class="k">done</span>
</code></pre></div>

 </p>
</details>
<p><br/></p>
<details>
 <summary>Download quicklook movies from ITA by date:</summary>
 <p>


 <div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nv">web</span><span class="o">=</span><span class="s2">&quot;http://tsih3.uio.no/lapalma/&quot;</span>
<span class="nv">input</span><span class="o">=</span><span class="nv">$1</span>

<span class="k">if</span> <span class="o">[</span> <span class="si">${#</span><span class="nv">input</span><span class="si">}</span> -eq <span class="m">0</span> <span class="o">]</span>
<span class="k">then</span>
    <span class="nv">folder</span><span class="o">=</span><span class="nv">$web</span>
    <span class="nb">read</span> -p <span class="s2">&quot;Do you want to download all the available movies from &quot;</span><span class="nv">$folder</span><span class="s2">&quot; [y/n]: &quot;</span> yn
    <span class="k">case</span> <span class="nv">$yn</span> <span class="k">in</span>
 <span class="o">[</span>Yy<span class="o">]</span>* <span class="o">)</span> wget -c -r -l <span class="m">3</span> -q --show-progress --cut-dirs<span class="o">=</span><span class="m">1</span> -nH --no-parent --reject<span class="o">=</span><span class="s2">&quot;index.html*&quot;</span> <span class="nv">$folder</span><span class="p">;;</span>
 <span class="o">[</span>Nn<span class="o">]</span>* <span class="o">)</span> break<span class="p">;;</span>
    <span class="k">esac</span>           
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> <span class="si">${#</span><span class="nv">input</span><span class="si">}</span> -eq <span class="m">4</span> <span class="o">]</span>
<span class="k">then</span>
    <span class="nv">folder</span><span class="o">=</span><span class="nv">$web$input</span><span class="s2">&quot;/&quot;</span>
    wget -c -r -l <span class="m">2</span> -q --show-progress --cut-dirs<span class="o">=</span><span class="m">1</span> -nH --no-parent --reject<span class="o">=</span><span class="s2">&quot;index.html*&quot;</span> <span class="nv">$folder</span>
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> <span class="si">${#</span><span class="nv">input</span><span class="si">}</span> -eq <span class="m">7</span> <span class="o">]</span>
<span class="k">then</span>
    <span class="nv">temp</span><span class="o">=(</span><span class="si">${</span><span class="nv">input</span><span class="p">//-/ </span><span class="si">}</span><span class="o">)</span>
    <span class="nv">year</span><span class="o">=</span><span class="si">${</span><span class="nv">temp</span><span class="p">[0]</span><span class="si">}</span>
    <span class="nv">folder</span><span class="o">=</span><span class="nv">$web$year</span><span class="s2">&quot;/&quot;</span>
    <span class="nb">echo</span> <span class="nv">$folder</span>
    <span class="nb">echo</span>  <span class="si">${</span><span class="nv">input</span><span class="si">}</span>*
    <span class="k">for</span> date <span class="k">in</span> <span class="k">$(</span>curl -s <span class="nv">$folder</span> <span class="p">|</span>
                      grep <span class="s1">&#39;\[DIR\]&#39;</span> <span class="p">|</span>
                      sed <span class="s1">&#39;s/.*href=&quot;//&#39;</span> <span class="p">|</span>
                      sed <span class="s1">&#39;s/&quot;.*//&#39;</span><span class="k">)</span><span class="p">;</span> <span class="k">do</span>
 <span class="k">if</span> <span class="o">[[</span> <span class="s2">&quot;</span><span class="nv">$date</span><span class="s2">&quot;</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="nv">$input</span><span class="s2">&quot;</span>* <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
     <span class="nb">echo</span> <span class="nv">$date</span>
     wget -c -r -l <span class="m">2</span> -q --show-progress --cut-dirs<span class="o">=</span><span class="m">1</span> -nH --no-parent --reject<span class="o">=</span><span class="s2">&quot;index.html*&quot;</span> <span class="nv">$folder</span><span class="s2">&quot;/&quot;</span><span class="nv">$date</span>
 <span class="k">fi</span>
    <span class="k">done</span>
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> <span class="si">${#</span><span class="nv">input</span><span class="si">}</span> -eq <span class="m">10</span> <span class="o">]</span>
<span class="k">then</span>
    <span class="nv">temp</span><span class="o">=(</span><span class="si">${</span><span class="nv">input</span><span class="p">//-/ </span><span class="si">}</span><span class="o">)</span>
    <span class="nv">year</span><span class="o">=</span><span class="si">${</span><span class="nv">temp</span><span class="p">[0]</span><span class="si">}</span>
    <span class="nv">folder</span><span class="o">=</span><span class="nv">$web$year</span><span class="s2">&quot;/&quot;</span><span class="nv">$input</span><span class="s2">&quot;/&quot;</span>
    wget -c -r -l <span class="m">2</span> -q --show-progress --cut-dirs<span class="o">=</span><span class="m">1</span> -nH --no-parent --reject<span class="o">=</span><span class="s2">&quot;index.html*&quot;</span> <span class="nv">$folder</span>
<span class="k">fi</span>
</code></pre></div>

 </p>
</details>
<p><br/></p>
<details>
 <summary>Extract IRIS SAA times for the SST log:</summary>
 <p>

 This scripts extracts the IRIS SAA times and copy them in your clipboard on MacOs systems.
 <div class="highlight"><pre><span></span><code>curl -s <span class="nv">$1</span> <span class="p">|</span> grep SAAI <span class="p">|</span> awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/\(:..\).*/\1/&#39;</span> &gt; saai.txt
curl -s <span class="nv">$1</span> <span class="p">|</span> grep SAAO <span class="p">|</span> awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span> sed <span class="s1">&#39;s/\(:..\).*/\1/&#39;</span>  &gt; saao.txt
paste -d <span class="s2">&quot;~&quot;</span> saai.txt saao.txt <span class="p">|</span> sed <span class="s1">&#39;s/~/ - /&#39;</span> <span class="p">|</span> pbcopy -selection c
rm saai.txt
rm saao.txt
</code></pre></div>
 The input of the script for a given day can be found within TIM in the following webpage (Please note that for weekends, the TIM link will provide the SAA dates for Saturday, Sunday and Monday):
 [IRIS_SAA](https://iris.lmsal.com/health-safety/timeline/)

 For Linux, if you have X installed you may define an equivalent to pbcopy from MacOS in this way :
 <div class="highlight"><pre><span></span><code><span class="nb">alias</span> <span class="nv">pbcopy</span><span class="o">=</span><span class="s1">&#39;xsel --clipboard --input&#39;</span>
<span class="nb">alias</span> <span class="nv">pbpaste</span><span class="o">=</span><span class="s1">&#39;xsel --clipboard --output&#39;</span>
</code></pre></div>
 or with xclip:
 <div class="highlight"><pre><span></span><code><span class="nb">alias</span> <span class="nv">pbcopy</span><span class="o">=</span><span class="s1">&#39;xclip -selection clipboard&#39;</span>
<span class="nb">alias</span> <span class="nv">pbpaste</span><span class="o">=</span><span class="s1">&#39;xclip -selection clipboard -o&#39;</span>
</code></pre></div>
 </p>
</details></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2019 - 2022 Daniel Nobrega Siverio</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
